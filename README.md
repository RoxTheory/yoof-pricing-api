# yoof-pricing-api
 PROJECT_JOURNAL.md : Déploiement Complet de l'API Yoof-PricingI. Création et Préparation du ProjetCette phase a couvert la création du projet Node.js Azure Function et l'écriture de la logique de calcul sécurisée.ÉtapeDescriptionOutils/Commandes1. Création du ProjetCréation de la structure du projet Azure Functions (Node.js/JavaScript).func init --worker-runtime node puis func new (HttpTrigger)2. Logique et SécuritéÉcriture du code JavaScript (index.js) pour le calcul du prix (numberOfUsers, tier) et mise en place des validations d'entrée.VS Code, index.js3. Test Local InitialValidation de la logique de la fonction dans l'environnement de développement local.npm install, func start, test.httpII. Configuration Git et Déploiement InitialCette phase a établi la connexion avec GitHub et Azure, malgré les problèmes initiaux de structure de dossier.ÉtapeDescriptionOutils/Commandes4. Création du DépôtInitialisation du dépôt Git et création du lien avec GitHub.git init, git add ., git commit, git remote add origin ..., git push5. Configuration AzureCréation de la Function App (ex: YOOF-Price-Estimator) et configuration de l'identité managée/secrets pour le pipeline.Portail Azure, Azure CLI (optionnel)6. Workflow GitHub ActionsConfiguration du pipeline CI/CD pour la compilation (build) et le déploiement (deploy) sur Azure Functions..github/workflows/main_yoof-price-estimator.ymlIII. Résolution des Problèmes et Stabilisation (Les étapes clés)Cette phase a résolu les erreurs liées à la structure de dossier redondante et aux problèmes de réseau local.ÉtapeProblème CléSolution Appliquée7. Structure du DépôtDouble dossier (yoof-pricing-api-main/yoof-pricing-api-main) causant l'erreur cannot find 'yoof-pricing-api-main'.Réorganisation locale des fichiers vers la racine (.) et suppression du sous-dossier.8. Conflit GitConflit après réorganisation locale et modification du workflow en ligne.Fusion manuelle (git pull, git rm, git commit) pour accepter la structure propre.9. Correction du PipelineLe workflow n'utilisait pas le chemin . après la réorganisation.Mise à jour du fichier .yml sur GitHub : BUILD_PATH: '.' et DEPLOY_PACKAGE_NAME: '.'10. Problèmes de Test LocalErreurs ENOENT (func start) ou ENOTFOUND (test de l'API de production).Réinstallation forcée de azure-functions-core-tools et utilisation de l'URL locale (http://localhost:7071) pour les tests.IV. Validation FinaleÉtapeRésultatStatut11. Validation CI/CDLe pipeline GitHub Actions se termine avec le statut SUCCESS pour build et deploy.✅ RÉUSSI12. Validation CodeLe test local via test.http envoie un corps JSON et reçoit un statut 200 OK avec le prix calculé.✅ RÉUSSIConclusion : L'API Yoof-Pricing est maintenant en production et validée. Le projet est prêt pour l'intégration par le front-end.
